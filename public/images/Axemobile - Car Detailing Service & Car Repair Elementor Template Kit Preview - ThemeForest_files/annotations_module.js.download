(function(g){var window=this;'use strict';var K$=function(E,f){E="background-image: url("+E+");";var G=[];f&&G.push(f);return{Y:"div",Z:"iv-card-image",J:{style:E},U:G}},MWF=function(E){E.S.stop();
E.isCollapsed&&(g.jg(E.uf(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),E.isCollapsed=!1,E.V&&E.V.removeAttribute("aria-hidden"),g.eS(E.G,!1),g.eS(E.N,!0))},NT=function(E){return E.V&&E.V.bK?E.V.bK:E.cards[0]&&E.cards[0].bK?E.cards[0].bK:null},PB=function(E,f,G,H,Y){o_.call(this,f,G,H,Y);
this.element=E},iGn=function(E){E.xe.push(g.w0("iv-teaser-shown",E.Nc,E));
E.xe.push(g.w0("iv-teaser-hidden",E.zge,E));E.xe.push(g.w0("iv-teaser-clicked",E.Re,E));E.Sr=!0},sna=function(){ht||(ht=new g.jp(function(){VWw()},20));
var E=ht;E.isActive()||E.start()},yJw=function(E,f){this.context=E;
this.V=f},xsR=function(E,f){function G(q){var C=E.loadNumber;
E.L=null;E.loaded&&E.loadNumber===C&&E.player.getVideoData().videoId===H&&(q=g.hM(q)&&q.responseXML?q.responseXML:null)&&(jnz(E,q),g.Ux(E.player.getRootNode(),"iv-module-loaded"))}
var H=f.videoId;g.In()&&(G=gdZ(E,G));var Y={format:"XML",onFinish:G,onError:function(){E.L=null},
urlParams:{}};f.isPharma&&(Y.urlParams.pharma="1");Y.method="POST";Y.withCredentials=!0;var t=E.player.W().w_.get(H);t&&(Math.random()<g.sy(E.player.W().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.ID(new g.Lw("Unexpected call to loadVastInfoCards; VastInfoCard exists.")),AJi(Y,t));t=t&&(t.NQ||t.aB);if(!f.zy||t)f.IJ?(Math.random()<g.sy(E.player.W().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.ID(new g.Lw("Unexpected call to loadVastInfoCards; Attempting to load annotations via invideo URL.")),
ZGi(E,f.IJ,Y)):(E.D=function(){if(!E.K)E.onVideoDataChange(Y);var q=E.player.getVideoData();(q==null?0:g.nU(q))&&!E.xe&&pLn(E,q)},E.player.addEventListener("videodatachange",E.D))},rJV=function(E,f,G,H,Y){this.id=E;
this.type=f;this.style=G;this.data=Y;this.action=H||[]},bGa=function(E){g.P.call(this);
this.G=E||window;this.V=[]},W6Z=function(E){var f=E.player.getVideoData();
if(f.IJ){var G=E.player.W().w_.get(f.videoId);if(G){var H={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(Y,t,q){Y=E.loadNumber;t=f.videoId;E.loaded&&E.loadNumber===Y&&E.player.getVideoData().videoId===t&&(q=g.hM(q)&&q.responseXML?q.responseXML:null)&&jnz(E,q)}};
g.In()&&(H.onFinish=gdZ(E,H.onFinish));H.postParams={ic_only:"1"};AJi(H,G);E.K=!0;g.cP(f.IJ,H)}}},OGw=function(E){var f=g.NF(),G=g.PH();
G&&f&&E.endscreen.visualElement&&g.cV(g.o8)(void 0,G,f,E.endscreen.visualElement)},u2i=function(E,f){return E.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(G){var H=unescape(G);
H=H.substring(1,H.length-1);return f[H]?escape(f[H]):G})},QnR=function(E){return 3*E*E-2*E*E*E},XLw=function(E,f,G){var H=H===void 0?{}:H;
var Y;return Y=g.Y8(E,f,function(){g.mE(Y);G.apply(E,arguments)},H)},NFx=function(E,f,G){if(f.targetUrl&&(!G||G.type!=="keypress"||G.keyCode===13)){for(var H=G.target;H&&!g.BP(H,"ytp-ce-element");){g.BP(H,"subscribe-label")&&L64(E,f);
if(g.BP(H,"ytp-ce-channel-subscribe"))return;H=H.parentElement||null}if(!H||g.BP(H,"ytp-ce-element-hover")){G.preventDefault();G.stopPropagation();if(H=E.G[f.id])K6R(E,H,f),H.element.blur();if(G.ctrlKey||G.metaKey||f.BRk==="new")L64(E,f),E.player.sendVideoStatsEngageEvent(17,void 0),E.player.pauseVideo(),G=g.UA(d_(E,f.targetUrl)),G=g.LM(G),g.Yp(G,void 0,f.sessionData);else{var Y=g.XM(E.player.W())||E.player.getVideoData().yA,t=function(){var q=d_(E,f.targetUrl),C=f.sessionData,U=f.watchEndpoint,D=
g.mr(q);Y&&D&&(D.v||D.list)?E.player.iS(D.v,C,D.list,!1,void 0,U||void 0):g.gAC(q,C)};
L64(E,f,function(){E.player.sendVideoStatsEngageEvent(17,t)})}}}},zT=function(E){return E.baseUrl||null},odi=function(E){var f=E.annotation.data;
"start_ms"in f&&"end_ms"in f&&E.addCueRange(Number(f.start_ms),Number(f.end_ms),E.annotation.id,function(){E.show()},function(){E.hide()})},h5n=function(E,f){f<E.startTime&&(E.endTime=f+E.endTime-E.startTime,E.startTime=f);
E.progress=(f-E.startTime)/(E.endTime-E.startTime);E.progress>1&&(E.progress=1);E.L=1E3/(f-E.D);E.D=f;PEZ(E,E.progress);E.progress==1?(E.V=0,R_(E),E.onFinish(),E.c_()):E.isPlaying()&&E.qp()},lk=function(E,f,G){for(var H in f)if(f[H]===E)return E;
return G},a_=function(E,f){var G=g.UX(f),H=G?f:arguments;
for(G=G?0:1;G<H.length;G++){if(E==null)return;E=E[H[G]]}return E},dsn=function(E){g.JE.call(this,E);
this.D=this.endscreen=null;this.G={};this.L={};this.S=this.N=null;this.K=[];this.V=null;this.xe=!0;this.B=0;E=E.W();this.Vi=g.VD(E)||g.ot(E);this.events=new g.y1(this);g.R(this,this.events);this.events.C(this.player,g.fz("creatorendscreen"),this.onCueRangeEnter);this.events.C(this.player,g.c7("creatorendscreen"),this.onCueRangeExit);this.events.C(this.player,"resize",this.Mr);this.events.C(window,"focus",this.Z4F);this.load();var f=g.iv("STYLE");(g.CN("HEAD")[0]||document.body).appendChild(f);this.addOnDisposeCallback(function(){g.wA(f)});
f.sheet&&(f.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),f.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},z5m=function(E){E.D&&(g.IS.clearTimeout(E.D),E.D=null)},R5n=function(E,f,G){cB.call(this,E,f,G);
var H=this;this.K=this.isCollapsed=this.Vi=!1;this.L=5E3;this.G=this.N=this.V=this.D=null;this.B=this.createElement({Y:"div",EO:["iv-promo-contents"]});this.S=new g.jp(function(){H.V.setAttribute("aria-hidden","true");g.eS(H.N,!1);g.eS(H.G,!0)},700,this);
g.R(this,this.S)},lQR=function(E,f,G){this.type=E;
this.trigger=f;this.url=G},kz=function(E){return E.value?E.value:null},aQw=function(E,f){return g.sA(E.cards,function(G){return G.bK.id===f})},cJi=function(E){var f;
(f=E)&&!(f=E.length>1?E.charAt(0)==="/"&&E.charAt(1)!=="/":E==="/")&&(f=E.replace(/^(https?:)?\/\//,"").split("/",1),f=!f||f.length<1||!f[0]?[]:f[0].toLowerCase().split(".").reverse(),f=f[0]==="com"&&f[1]==="youtube"||f[0]==="be"&&f[1]==="youtu");return f?E.indexOf("/redirect?")===-1:!1},k6F=function(E,f){return g.sA(E.action,f)},F6R=function(E,f,G){f&&(G?Fl(E,f.map(function(H){return g.Pt(H,G)})):Fl(E,f))},$sa=function(E,f,G){function H(U){E.B+=U;
E.B>0?(g.Ux(f.element,"ytp-ce-force-expand"),BB(E,G.id,!0)):(g.pt(f.element,"ytp-ce-force-expand"),g.pt(f.element,"ytp-ce-element-hover"),BB(E,G.id,!1))}
function Y(){H(1)}
function t(){H(-1)}
function q(U){U&&(f.listen("blur",function(){U.style.display!="none"&&E.xe&&U.focus()}),f.C(U,"focus",Y),f.C(U,"blur",t))}
f.listen("mouseenter",function(){BFZ(E,f,G)});
f.listen("mouseleave",function(){K6R(E,f,G)});
E.player.W().G||f.listen("click",function(){g.Ux(f.element,"ytp-ce-element-hover")});
f.listen("click",function(U){NFx(E,G,U)});
f.listen("keypress",function(U){NFx(E,G,U)});
f.listen("focus",function(){BFZ(E,f,G)});
f.listen("blur",function(){K6R(E,f,G)});
f.listen("touchstart",function(){BFZ(E,f,G)});
var C=g.N2("ytp-ce-expanding-overlay-hider",f.element);C&&f.C(C,"touchstart",function(U){U.stopPropagation();g.pt(f.element,"ytp-ce-element-hover");g.pt(f.element,"ytp-ce-force-expand")});
f.listen("keydown",function(U){E.xe=U.keyCode===9&&!U.shiftKey});
q(g.N2("ytp-sb-subscribe",f.element));q(g.N2("ytp-sb-unsubscribe",f.element));f.listen("focus",Y);f.listen("blur",t)},TFz=function(E){if(!E)return null;
var f=lk(E.type,nd4),G=lk(E.trigger,JJO);E=E.url;E=Array.isArray(E)&&E.length?E[0]:E;E=$z(E?E:null);return f?new lQR(f,G,E):null},vdV=function(E){var f=new g.a({Y:"div"});
g.eS(f.element,!1);var G=new IQO(E.player,f.element,n$(E));g.R(G,f);f.jn(E.G.element);G.XL();return G},Jt=function(E,f,G){G=G===void 0?!0:G;
E.player.LH("creatorendscreen");E.N&&(E.N.dispose(),E.N=null,E.S.dispose(),E.S=null);for(var H=g.x(Object.values(E.G)),Y=H.next();!Y.done;Y=H.next())Y.value.dispose();E.G={};E.L={};E.K.length>0&&(E.K.forEach(function(C){C.dispose()}),E.K.length=0);
E.V&&(g.pt(E.V,"ytp-ce-element-show"),E.V.setAttribute("aria-hidden","true"));E.B=0;if((E.endscreen=f)&&f.elements){G&&OGw(E);G=[];H=new g.GJ(f.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});G.push(H);E.player.W().G||(E.N=new g.a({Y:"div",Z:"ytp-ce-shadow"}),g.xU(E.player,E.N.element,4),E.S=new g.Rn(E.N,200));for(H=0;H<f.elements.length;++H){Y=f.elements[H];var t=SAO(E,Y);if(t){E.G[Y.id]=t;E.L[Y.id]=Y;g.xU(E.player,t.element,4);var q=new g.GJ(Y.startMs,Y.endMs,{id:"ytp-ce-element-"+
Y.id,namespace:"creatorendscreen"});G.push(q);$sa(E,t,Y)}else g.ID(new g.Lw("buildEndscreenElement null",Y))}E.player.MR(G);E.Mr()}},TT=function(E){E.publish("cardstatechange",E.d9()&&E.Pl()?1:0)},GFa=function(E){g.JE.call(this,E);
var f=this;this.xe=this.K=!1;this.loadNumber=0;this.B={};this.logger=new msi(this.player);this.S=new g.y1(this);this.L=this.D=null;this.events=new g.y1(this);this.ip=this.Vi=this.V=null;this.lF=[];g.R(this,this.S);this.S.C(this.player,"onVideoAreaChange",function(){f.publish("onVideoAreaChange")});
this.S.C(this.player,"onHideControls",function(){f.publish("onHideControls")});
this.S.C(this.player,"onShowControls",function(){f.publish("onShowControls")});
this.S.C(this.player,"resize",function(t){f.publish("resize",t)});
this.S.C(this.player,"presentingplayerstatechange",function(t){f.publish("presentingplayerstatechange",t)});
this.subscribe("presentingplayerstatechange",this.gO,this);this.subscribe("resize",this.mO,this);this.player.W().w_.subscribe("vast_info_card_add",this.FP,this);g.R(this,this.events);this.IH=this.createElement({Y:"div",Z:"video-custom-annotations"});this.G=new g.a({Y:"div",EO:["ytp-player-content","ytp-iv-player-content"]});g.R(this,this.G);g.xU(this.player,this.G.element,4);this.G.hide();this.N=new g.a({Y:"div",EO:["ytp-iv-video-content"]});g.R(this,this.N);E=this.createElement({Y:"div",Z:"video-annotations"});
E.appendChild(this.IH);this.N.element.appendChild(E);this.KU()?this.load():this.player.T("web_fix_annotations")&&(this.D=function(){f.loaded||f.Bd()||!f.KU()||(e5a(f),f.load())},this.player.addEventListener("videodatachange",this.D));
var G=this.createElement({Y:"style"});(g.CN("HEAD")[0]||document.body).appendChild(G);this.addOnDisposeCallback(function(){g.wA(G)});
if(E=G.sheet){for(var H=g.x(E1n),Y=H.next();!Y.done;Y=H.next())E.insertRule(Y.value,0);H=g.x(fum);for(Y=H.next();!Y.done;Y=H.next())E.insertRule(Y.value,0)}},PEZ=function(E,f){typeof E.S==="function"&&(f=E.S(f));
E.coords=Array(E.G.length);for(var G=0;G<E.G.length;G++)E.coords[G]=(E.B[G]-E.G[G])*f+E.G[G]},I_=function(E,f,G){if(!E.N){E.oH.show();
E.Cd=new g.jp(function(){g.Ux(E.context.j.getRootNode(),g.VK.IV_DRAWER_OPEN)},0);
E.Cd.start();E.ZW.C(E.G,"mousewheel",function(q){E.T0.start();q.preventDefault();q=q||window.event;var C=0;q.type=="MozMousePixelScroll"?C=0==(q.axis==q.HORIZONTAL_AXIS)?q.detail:0:window.opera?C=q.detail:C=q.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?q.wheelDeltaY/-30:q.wheelDeltaY/-1.2:q.wheelDelta/-1.6:q.wheelDeltaY/-3;if(q=C)E.G.scrollTop+=q});
E.N=!0;var H=g.PH();H&&E.m$&&E.K&&g.ze(H,[E.m$,E.K]);f={TRIGGER_TYPE:f};for(var Y=g.x(E.cards),t=Y.next();!t.done;t=Y.next())t=t.value,t.Uz||(t.Uz=!0,F6R(E.context.logger,t.bK.Wf.n2,f)),H&&g.ze(H,[t.bK.rp]);TT(E.j);G&&(E.L=new g.jp(function(){E.Ld=E.S;E.V2.focus()},330),E.L.start())}},gdZ=function(E,f){return function(){var G=g.OJ.apply(0,arguments);
E.Bd()||E.lF.push(g.vL.IN(function(){f.apply(null,g.fW(G))}))}},H8z=function(E){var f;
return((f=g.F(E,g.wF))==null?0:f.url)?g.F(E,g.wF).url:(E=g.F(E,g.ZR))&&E.videoId?(f="/watch?v="+E.videoId,E.playlistId&&(f+="&list="+E.playlistId),E.index&&(f+="&index="+E.index),E.startTimeSeconds&&(f+="&t="+E.startTimeSeconds),f):null},YQn=function(E,f){if(f=aQw(E,f))f===E.V&&(E.V=null),E.j.removeCueRange(f.bK.id),g.wA(f.Rw),g.dE(E.cards,f),E.IB(),vB(E)},tiw=function(E,f,G,H){this.value=E;
this.target=f;this.showLinkIcon=G;this.V=H},URi=function(E,f){var G=G===void 0?0:G;
var H=qQn(f).width;g.YB(f,H);G=new wPO(f,[H,f.offsetTop],[H-H-G,f.offsetTop],200,CZR);g.R(E,G);E.context.N.listen(G,"begin",function(){g.eS(f,!0)});
G.play()},S1=function(E,f,G,H,Y,t,q){E.context.V.listen(f,"click",function(C){E.CI(G,H,Y,t||[],q||0,C)});
E.context.V.listen(f,"touchstart",function(){E.Mk=!1});
E.context.V.listen(f,"touchmove",function(){E.Mk=!0})},VWw=function(){var E=g.aK();
g.bZ(ms,function(f){h5n(f,E)});
g.TK(ms)||sna()},Ew=function(E,f,G){function H(){t||(Y++,Y===f.length&&(q.stop(),G&&G()))}
if(!f||f.length===0||e1(E))G&&G();else{f=DRi(E,f);var Y=0,t=!1,q=new g.jp(function(){t=!0;G&&G()},1E3,E);
q.start();for(E=0;E<f.length;E++)g.k1(f[E],H)}},o_=function(E,f,G,H){g.NH.call(this);
if(!Array.isArray(E)||!Array.isArray(f))throw Error("Start and end parameters must be arrays");if(E.length!=f.length)throw Error("Start and end points must be the same length");this.G=E;this.B=f;this.duration=G;this.S=H;this.coords=[];this.progress=this.L=0;this.D=null},fd=function(E){E.N&&(E.oH.hide(),g.ba(E.ZW),g.pt(E.context.j.getRootNode(),g.VK.IV_DRAWER_OPEN),E.N=!1,TT(E.j),E.L&&E.L.stop(),E.L=new g.jp(function(){E.Ld&&(E.Ld.focus(),E.Ld=null)},330),E.L.start())},$z=function(E){if(!E)return null;
var f=g.UA(MiW(E.value));f=g.LM(f);if(!f)return null;var G=lk(E.target,i8x,"current");if(G==null)E=null;else{var H=E.show_link_icon;E=new tiw(f,G,H==="true"||H==="false"?H==="true":!0,E.pause_on_navigation!=null?E.pause_on_navigation:!0)}return E},ViV=function(E){if(!E.metaInfo||E.metaInfo.length===0)return"";
var f=[];E=g.x(E.metaInfo);for(var G=E.next();!G.done;G=E.next())f.push(Gp("li","",G.value));return{Y:"ul",Z:"iv-card-meta-info",U:f}},BFZ=function(E,f,G){g.BP(f.element,"ytp-ce-element-hover")||(G.type==="VIDEO"||G.type==="PLAYLIST"?g.Ux(f.element,"ytp-ce-element-hover"):E.player.W().G?(new g.jp(function(){g.Ux(f.element,"ytp-ce-element-hover")},200)).start():g.Ux(f.element,"ytp-ce-element-hover"),Ew(E,G.lid),BB(E,G.id,!0))},MiW=function(E){return typeof E==="string"?E:""},y0R=function(E){var f=
E.annotation.data;
if(E.annotation.style==="cta")var G=6;else if(E.annotation.style==="video"||E.annotation.style==="playlist")G=7;E.L=f.collapsedelay_ms||E.L;var H=["iv-promo","iv-promo-inactive"];E.uf().setAttribute("aria-hidden","true");E.uf().setAttribute("aria-label","Promotion");E.uf().tabIndex=0;var Y=E.annotation.Ac(),t=f.image_url;if(t){var q=E.createElement({Y:"div",EO:["iv-promo-img","iv-click-target"]});t=E.createElement({Y:"img",J:{src:t,"aria-hidden":"true"}});q.appendChild(t);f.video_duration&&!f.is_live?
(t=E.createElement({Y:"span",Z:"iv-promo-video-duration",RH:f.video_duration}),q.appendChild(t)):f.playlist_length&&(t=E.createElement({Y:"span",Z:"iv-promo-playlist-length",RH:f.playlist_length.toString()}),q.appendChild(t));Y&&S1(E,q,Y,E.annotation.id,f.session_data,void 0,G)}Y?(t=E.createElement({Y:"a",Z:"iv-promo-txt"}),g.CG(t,kz(Y)),E.V=t):E.V=E.createElement({Y:"div",Z:"iv-promo-txt"});switch(E.annotation.style){case "cta":case "website":var C=E.createElement({Y:"p",U:[{Y:"strong",RH:f.text_line_1}]});
var U=E.createElement({Y:"p",U:[{Y:"span",Z:"iv-promo-link",RH:f.text_line_2}]});if(t=f.text_line_3){H.push("iv-promo-website-card-cta-redesign");var D=E.createElement({Y:"button",EO:["iv-promo-round-expand-icon","ytp-button"]});t=E.createElement({Y:"button",EO:["iv-button","iv-promo-button"],U:[{Y:"span",Z:"iv-button-content",RH:t}]});var M=E.createElement({Y:"div",Z:"iv-promo-button-container"});M.appendChild(t);Y&&S1(E,E.uf(),Y,E.annotation.id,f.session_data,void 0,G)}g.Ux(E.V,"iv-click-target");
Y&&S1(E,E.V,Y,E.annotation.id,f.session_data,void 0,G);break;case "playlist":case "video":C=E.createElement({Y:"p",U:[{Y:"span",RH:f.text_line_1}]}),U=E.createElement({Y:"p",U:[{Y:"strong",RH:f.text_line_2}]}),f.is_live&&(C=U,U=E.createElement({Y:"span",EO:["yt-badge","iv-promo-badge-live"],RH:"LIVE NOW"})),g.Ux(E.V,"iv-click-target"),Y&&S1(E,E.V,Y,E.annotation.id,f.session_data,void 0,G),H.push("iv-promo-video")}C&&E.V.appendChild(C);U&&E.V.appendChild(U);E.B.appendChild(E.V);M&&E.B.appendChild(M);
G=E.createElement({Y:"div",Z:"iv-promo-actions"});E.G=E.createElement({Y:"button",EO:["iv-promo-expand","ytp-button"]});E.G.title="Expand";E.context.V.listen(E.G,"click",function(V){sEi(E,5E3,V)});
G.appendChild(E.G);g.eS(E.G,!1);E.context.V.listen(E.uf(),"mouseover",E.bdi,E);E.context.V.listen(E.uf(),"mouseout",E.rm8,E);E.context.V.listen(E.uf(),"touchend",function(V){sEi(E,5E3,V)});
E.N=E.createElement({Y:"button",EO:["iv-promo-close","ytp-button"]});E.N.title="Close";E.context.V.listen(E.N,"click",E.annotation.style==="cta"&&f.text_line_3?E.qOk:E.Amd,E);G.appendChild(E.N);g.p1(E.uf(),H);q&&(g.uM(E.uf(),q),D&&q.appendChild(D));g.uM(E.uf(),E.B);g.uM(E.uf(),G)},pLn=function(E,f){var G,H;
if(f=(G=f.getWatchNextResponse())==null?void 0:(H=G.cards)==null?void 0:H.cardCollectionRenderer)E.xe=!0,jEZ(E,f),f.headerText&&E.ip&&(G=g.r4(f.headerText),E.player.T("player_tooltip_data_title_killswitch")?E.ip.setAttribute("title",G):E.ip.setAttribute("data-tooltip-title",G))},g1O=function(E,f){g.Vu.call(this,E);
this.coords=f.coords;this.x=f.coords[0];this.y=f.coords[1];this.z=f.coords[2];this.duration=f.duration;this.progress=f.progress;this.fps=f.L;this.state=f.V},R_=function(E){E=g.CP(E);
delete ms[E];g.TK(ms)&&ht&&ht.stop()},A0n=function(E,f){var G;
return f.onClickCommand&&((G=g.F(f.onClickCommand,g.cLW))==null?void 0:G.targetId)==="engagement-panel-error-corrections"?(E.lF=f,!0):!1},SAO=function(E,f){var G=null;
switch(f.type){case "VIDEO":E={Y:"div",EO:["ytp-ce-element","ytp-ce-video"],J:{tabindex:"0","aria-label":f.ek||"","aria-hidden":"true"},U:[{Y:"div",Z:"ytp-ce-element-shadow"},{Y:"div",Z:"ytp-ce-covering-image",J:HU(f)},{Y:"div",Z:"ytp-ce-covering-shadow-top"},{Y:"a",Z:"ytp-ce-covering-overlay",J:{href:d_(E,f.targetUrl),tabindex:"-1"},U:[{Y:"div",EO:["ytp-ce-video-title","ytp-webkit-ellipsis"],J:{dir:g.Nl(f.title||"")},RH:f.title},{Y:"div",Z:f.QX?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
RH:f.videoDuration||void 0}]}]};G=new g.a(E);break;case "PLAYLIST":E={Y:"div",EO:["ytp-ce-element","ytp-ce-playlist"],J:{tabindex:"0","aria-label":f.ek||"","aria-hidden":"true"},U:[{Y:"div",Z:"ytp-ce-element-shadow"},{Y:"div",Z:"ytp-ce-covering-image",J:HU(f)},{Y:"div",Z:"ytp-ce-covering-shadow-top"},{Y:"a",Z:"ytp-ce-covering-overlay",J:{href:d_(E,f.targetUrl),tabindex:"-1"},U:[{Y:"div",EO:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],J:{dir:g.Nl(f.title||"")},RH:f.title},{Y:"div",Z:"ytp-ce-playlist-count",
U:[{Y:"div",Z:"ytp-ce-playlist-icon"},{Y:"div",Z:"ytp-ce-playlist-count-text",RH:f.playlistLength||void 0}]}]}]};G=new g.a(E);break;case "CHANNEL":G={Y:"div",EO:["ytp-ce-element","ytp-ce-channel",f.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],J:{tabindex:"0","aria-label":f.ek||"","aria-hidden":"true"},U:[{Y:"div",Z:"ytp-ce-element-shadow"},{Y:"div",Z:"ytp-ce-expanding-overlay",U:[{Y:"div",Z:"ytp-ce-expanding-overlay-hider"},{Y:"div",Z:"ytp-ce-expanding-overlay-background"},{Y:"div",Z:"ytp-ce-expanding-overlay-content",
U:[{Y:"div",Z:"ytp-ce-expanding-overlay-body",U:[{Y:"div",Z:"ytp-ce-expanding-overlay-body-padding",U:[{Y:"a",EO:["ytp-ce-channel-title","ytp-ce-link"],J:{href:d_(E,f.targetUrl),target:"_blank",tabindex:"-1",dir:g.Nl(f.title||"")},RH:f.title},f.subscribeButton?{Y:"div",Z:"ytp-ce-subscribe-container",U:[{Y:"div",Z:"ytp-ce-channel-subscribe"}]}:"",f.subscribersText?{Y:"div",Z:"ytp-ce-channel-subscribers-text",RH:f.subscribersText}:"",f.metadata?{Y:"div",EO:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],RH:f.metadata}:""]}]}]}]},{Y:"div",Z:"ytp-ce-expanding-image",J:HU(f)}]};G=new g.a(G);var H=g.K7(document,"div","ytp-ce-channel-subscribe",G.element)[0];if(f.subscribeButton&&f.channelId){g.Ux(H,"ytp-ce-subscribe-button");if(E.player.W().G){var Y=null;var t=f.sessionData.itct}else Y="endscreen",t=null;Y=new g.w3(f.subscribeButton.subscribeText,f.subscribeButton.subscribeCount,f.subscribeButton.unsubscribeText,f.subscribeButton.unsubscribeCount,!!f.subscribeButton.enabled,!!f.subscribeButton.classic,
f.channelId,!!f.subscribeButton.subscribed,Y,t,E.player,!1);H.appendChild(Y.element);E.K.push(Y)}break;case "WEBSITE":E={Y:"div",EO:["ytp-ce-element","ytp-ce-website"],J:{tabindex:"0","aria-label":f.ek||"","aria-hidden":"true"},U:[{Y:"div",Z:"ytp-ce-element-shadow"},{Y:"div",Z:"ytp-ce-expanding-overlay",U:[{Y:"div",Z:"ytp-ce-expanding-overlay-hider"},{Y:"div",Z:"ytp-ce-expanding-overlay-background"},{Y:"div",Z:"ytp-ce-expanding-overlay-content",U:[{Y:"div",Z:"ytp-ce-expanding-overlay-body",U:[{Y:"div",
Z:"ytp-ce-expanding-overlay-body-padding",U:[{Y:"div",Z:"ytp-ce-website-title",J:{dir:g.Nl(f.title||"")},RH:f.title},{Y:"div",Z:"ytp-ce-website-metadata",RH:f.metadata},{Y:"a",EO:["ytp-ce-website-goto","ytp-ce-link"],J:{href:d_(E,f.targetUrl),target:"_blank",tabindex:"-1"},RH:f.callToAction}]}]}]}]},{Y:"div",Z:"ytp-ce-expanding-image",J:HU(f)},{Y:"div",Z:"ytp-ce-expanding-icon",J:Z8O(f.iconUrl)}]};G=new g.a(E);break;case "CREATOR_MERCHANDISE":G="",f.productPrice&&(G={Y:"div",Z:"ytp-ce-merchandise-price-container",
U:[{Y:"div",Z:"ytp-ce-merchandise-price",RH:f.productPrice}]},f.additionalFeesText&&G.U.push({Y:"div",Z:"ytp-ce-merchandise-additional-fees",RH:f.additionalFeesText})),E={Y:"div",EO:["ytp-ce-element","ytp-ce-merchandise"],J:{tabindex:"0","aria-label":f.ek||"","aria-hidden":"true"},U:[{Y:"div",Z:"ytp-ce-element-shadow"},{Y:"div",Z:"ytp-ce-expanding-overlay",U:[{Y:"div",Z:"ytp-ce-expanding-overlay-hider"},{Y:"div",Z:"ytp-ce-expanding-overlay-background"},{Y:"div",Z:"ytp-ce-expanding-overlay-content",
U:[{Y:"div",Z:"ytp-ce-expanding-overlay-body",U:[{Y:"div",Z:"ytp-ce-expanding-overlay-body-padding",U:[{Y:"div",Z:"ytp-ce-merchandise-title",J:{dir:g.Nl(f.title||"")},RH:f.title},G,{Y:"div",Z:"ytp-ce-merchandise-metadata",RH:f.metadata},{Y:"a",EO:["ytp-ce-merchandise-goto","ytp-ce-link"],J:{href:d_(E,f.targetUrl),target:"_blank",tabindex:"-1"},RH:f.callToAction}]}]}]}]},{Y:"div",Z:"ytp-ce-expanding-image",J:HU(f)},{Y:"div",Z:"ytp-ce-merchandise-invideo-cta-container",U:[{Y:"div",Z:"ytp-ce-merchandise-invideo-cta",
RH:f.callToAction||void 0}]}]},G=new g.a(E)}f.isPlaceholder&&g.Ux(G.element,"ytp-ce-placeholder");return G},pPn=function(E){if(!E.customMessage)return"";
var f=["iv-card-action","iv-card-primary-link"],G={};E.x3&&(f.push("iv-card-action-icon"),G.style="background-image: url("+E.x3+");");G.dir=g.Nl(E.customMessage);var H=[{Y:"span",RH:E.customMessage}];E.showLinkIcon&&(H.push("\u00a0"),H.push({Y:"span",Z:"iv-card-link-icon"}));return{Y:"div",EO:f,J:G,U:H}},jnz=function(E,f){var G=!1,H=f.getElementsByTagName("annotations");
if(H&&!(H.length<1)&&(H=H[0].getAttribute("itct"))){var Y=g.PH();if(Y){var t=g.NF();t&&g.cV(g.XH)(void 0,Y,t,[g.bi(H)])}}f=f.getElementsByTagName("annotation");for(H=0;H<f.length;H++){t=xRw(E,f[H]);Y=null;try{if(t){var q=t.id,C=/.+/;var U=typeof q==="string"&&C!=null&&q!=null&&q.match(C)?q:"";var D=lk(t.type,r0m),M=lk(t.style,b8V),V=MiW(t.data),A=V.length!==0?JSON.parse(V):{};var Z=t.action;t=TFz;if(Z==null)var y=null;else if(g.UX(Z)){C=[];for(var b=g.x(Z),O=b.next();!O.done;O=b.next()){var K=t(O.value);
K&&C.push(K)}y=C}else{var Q=t(Z);y=Q?[Q]:[]}Y=U&&D?new rJV(U,D,M,y,A):null}else Y=null}catch(e){}if(Y)if(Y.type==="branding"||Y.type==="promotion"){t=E;C=Y;var h=WeO(t),d=null;switch(C.type){case "branding":if(t.player.W().bq)break;t.player.T("web_player_overlay_positioned_layout")?(h.setAttribute("data-overlay-order","11"),t.player.Kq(h,4,!0)):t.G.element.appendChild(h);d=new Yk(h,n$(t),C);break;case "promotion":g.xU(t.player,h,4),d=new R5n(h,n$(t),C)}d&&d.XL();if(t=d)g.R(E,t),E.B[Y.id]=t}else if(Y.type===
"card"||Y.type==="drawer"){E.V||(E.V=vdV(E),g.R(E,E.V));if(Y.type==="card"){h=E.V;var c=(G=Y)&&G.data&&G.data.card_type;Y=G.data;if(c)switch(t=Y.tracking||{},t={n2:t.impression,click:t.click,close:t.close,XN:t.teaser_impression,HJ:t.teaser_click},C=Y.tracking_params||{},d=null,c){case "collaborator":G={id:G.id,timestamp:Y.timestamp||0,type:Y.card_type,teaserText:Y.teaser_text,teaserDurationMs:Y.teaser_duration_ms,startMs:Y.start_ms,autoOpen:Y.auto_open||!1,sessionData:Y.session_data||{},sponsored:Y.sponsored||
!1,Wf:t,rp:C.card?g.bi(C.card):null,OF:C.teaser?g.bi(C.teaser):null,Vv:C.icon?g.bi(C.icon):null,channelId:Y.channel_id,customMessage:Y.custom_message?Y.custom_message:null,profileImageUrl:Y.image_url,title:Y.title,metaInfo:Y.meta_info,url:$z({pause_on_navigation:Y.pause_on_navigation,target:Y.target||"new",value:Y.url}),onClickCommand:null};t9(h,G);break;case "playlist":G={id:G.id,timestamp:Y.timestamp||0,type:Y.card_type,teaserText:Y.teaser_text,teaserDurationMs:Y.teaser_duration_ms,startMs:Y.start_ms,
autoOpen:Y.auto_open||!1,sessionData:Y.session_data||{},sponsored:Y.sponsored||!1,Wf:t,rp:C.card?g.bi(C.card):null,OF:C.teaser?g.bi(C.teaser):null,Vv:C.icon?g.bi(C.icon):null,TF:Y.image_url,playlistVideoCount:Y.playlist_video_count,customMessage:Y.custom_message?Y.custom_message:null,title:Y.title,metaInfo:Y.meta_info,url:$z({pause_on_navigation:Y.pause_on_navigation,target:Y.target||"new",value:Y.url}),onClickCommand:null};t9(h,G);break;case "productListing":Y.signin_url&&(d=$z({target:"current",
value:Y.signin_url}));c=[];for(var I=Y.offers||[],k=0;k<I.length;k++)c.push(new O84(g.op(I[k].merchant),g.op(I[k].price)));G={id:G.id,timestamp:Y.timestamp||0,type:Y.card_type,teaserText:Y.teaser_text,teaserDurationMs:Y.teaser_duration_ms,startMs:Y.start_ms,autoOpen:Y.auto_open||!1,sessionData:Y.session_data||{},sponsored:Y.sponsored||!1,Wf:t,rp:C.card?g.bi(C.card):null,OF:C.teaser?g.bi(C.teaser):null,Vv:C.icon?g.bi(C.icon):null,imageUrl:Y.image_url,displayDomain:Y.display_domain?Y.display_domain:
null,showLinkIcon:!!Y.show_link_icon,x3:Y.button_icon_url?Y.button_icon_url:null,title:Y.title,customMessage:Y.custom_message?Y.custom_message:null,url:$z({pause_on_navigation:Y.pause_on_navigation,target:Y.target||"new",value:Y.url}),Qd$:d,dW8:Y.signin_title?Y.signin_title:void 0,b$H:Y.signin_message?Y.signin_message:void 0,offers:c,onClickCommand:null};t9(h,G);break;case "simple":G={id:G.id,timestamp:Y.timestamp||0,type:Y.card_type,teaserText:Y.teaser_text,teaserDurationMs:Y.teaser_duration_ms,
startMs:Y.start_ms,autoOpen:Y.auto_open||!1,sessionData:Y.session_data||{},sponsored:Y.sponsored||!1,Wf:t,rp:C.card?g.bi(C.card):null,OF:C.teaser?g.bi(C.teaser):null,Vv:C.icon?g.bi(C.icon):null,imageUrl:Y.image_url,displayDomain:Y.display_domain?Y.display_domain:null,showLinkIcon:!!Y.show_link_icon,x3:Y.button_icon_url?Y.button_icon_url:null,title:Y.title,customMessage:Y.custom_message?Y.custom_message:null,url:$z({pause_on_navigation:Y.pause_on_navigation,target:Y.target||"new",value:Y.url}),onClickCommand:null};
t9(h,G);break;case "video":G={id:G.id,timestamp:Y.timestamp||0,type:Y.card_type,teaserText:Y.teaser_text,teaserDurationMs:Y.teaser_duration_ms,startMs:Y.start_ms,autoOpen:Y.auto_open||!1,sessionData:Y.session_data||{},sponsored:Y.sponsored||!1,Wf:t,rp:C.card?g.bi(C.card):null,OF:C.teaser?g.bi(C.teaser):null,Vv:C.icon?g.bi(C.icon):null,TF:Y.image_url,videoDuration:Y.video_duration||null,customMessage:Y.custom_message?Y.custom_message:null,title:Y.title,metaInfo:Y.meta_info,isLiveNow:!!Y.is_live_now,
url:$z({pause_on_navigation:Y.pause_on_navigation,target:Y.target||"new",value:Y.url}),onClickCommand:null},t9(h,G)}}else uf4(E.V,Y);G=!0}}G&&(TT(E.player),E.mO())},HU=function(E){if(E.al)var f=E.al.thumbnails;
return Z8O(f?f[f.length-1].url:null)},DRi=function(E,f){var G=E.player.getVideoData().clientPlaybackNonce;
E=E.player.getCurrentTime().toFixed(2);G={CPN:G,AD_CPN:G,MT:E};E=[];for(var H=0;H<f.length;H++)E.push(u2i(f[H],G));return E},qM=function(E,f){g.P.call(this);
var G=this;this.element=E;this.context=f;this.Mk=!1;this.ke=new Map;this.bF=new Map;this.context.j.addEventListener(g.fz("annotations_module"),function(H){(H=G.ke.get(H))&&H.apply(G)});
this.context.j.addEventListener(g.c7("annotations_module"),function(H){(H=G.bF.get(H))&&H.apply(G)})},wm=function(E,f,G,H){return{feature:G.feature?G.feature:"cards",
src_vid:E.context.videoData.videoId,annotation_id:f,ei:E.context.videoData.eventId||"",itct:H.trackingParams||""}},QEF=function(E){g.p1(E.uf(),[g.VK.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.xU(E.j,E.D,5);E.po();E.S=g.N2("ytp-cards-button",E.j.getRootNode());E.V2=g.N2("iv-drawer-close-button",E.D);E.isInitialized=!0},d_=function(E,f){E=E.player.W();
if(f){if(f.startsWith("//"))return E.protocol+":"+f;if(f.startsWith("/"))return g.qX(E)+f}else return"";return f},Cd=function(E,f,G){return{n2:(E.impressionLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
click:(G.loggingUrls||[]).map(function(H){return H.baseUrl||""}),
close:(f.dismissLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
XN:(f.impressionLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
HJ:(f.clickLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""})}},CZR=function(E){return Math.pow(E,3)},Lex=function(E,f){switch(f.type){case "simple":E=E.IH;
var G=f.displayDomain?{Y:"div",Z:"iv-card-image-text",RH:f.displayDomain}:void 0;var H=pPn(f);G={Y:"div",EO:["iv-card"],U:[{Y:"a",Z:"iv-click-target",J:{href:f.url?kz(f.url)||"":""},U:[K$(f.imageUrl,G),{Y:"div",Z:"iv-card-content",U:[Gp("h2",void 0,f.title),H]}]}]};G=new g.a(G);Uw(E,g.N4("iv-click-target",G.element),f,f.url);f=G;break;case "collaborator":E=E.IH;G={Y:"div",EO:["iv-card","iv-card-channel"],U:[{Y:"a",EO:["iv-click-target"],J:{href:kz(f.url)||"","data-ytid":f.channelId},U:[K$(f.profileImageUrl),
{Y:"div",Z:"iv-card-content",U:[XPi(f),{Y:"h2",Z:"iv-card-primary-link",RH:f.title},ViV(f)]}]}]};G=new g.a(G);Uw(E,g.N4("iv-click-target",G.element),f,f.url);f=G;break;case "playlist":E=E.IH;G={Y:"div",EO:["iv-card","iv-card-playlist"],U:[{Y:"a",Z:"iv-click-target",J:{href:kz(f.url)||""},U:[K$(f.TF,{Y:"div",Z:"iv-card-image-overlay",U:[{Y:"span",Z:"iv-card-playlist-video-count",RH:f.playlistVideoCount}]}),{Y:"div",Z:"iv-card-content",U:[XPi(f),Gp("h2","iv-card-primary-link",f.title),ViV(f)]}]}]};
G=new g.a(G);Uw(E,g.N4("iv-click-target",G.element),f,f.url);f=G;break;case "productListing":E=E.IH;var Y=f.offers.length!=0;G=["iv-card"];H="";var t=pPn(f);Y&&(G.push("iv-card-product-listing"),H="iv-card-primary-link",t=f.offers[0],Y=[],t.price&&Y.push({Y:"div",Z:"iv-card-offer-price",RH:t.price}),t.merchant&&Y.push({Y:"div",Z:"iv-card-offer-merchant",RH:t.merchant}),t={Y:"div",U:Y});Y=f.url?kz(f.url)||"":"";G={Y:"div",EO:G,J:{tabindex:"0"},U:[{Y:"a",EO:["iv-card-image","iv-click-target"],J:{style:"background-image: url("+
f.imageUrl+");",href:Y,"aria-hidden":"true",tabindex:"-1"}},{Y:"div",Z:"iv-card-content",U:[f.sponsored?{Y:"div",Z:"iv-card-sponsored",U:["Sponsored",{Y:"div",Z:"iv-ad-info-container",U:[{Y:"div",Z:"iv-ad-info",RH:"{{adInfo}}"},{Y:"div",Z:"iv-ad-info-icon-container",U:[{Y:"div",Z:"iv-ad-info-icon"},{Y:"div",Z:"iv-ad-info-callout"}]}]}]}:"",{Y:"a",Z:"iv-click-target",J:{href:Y},U:[Gp("h2",H,f.title),t]}]}]};G=new g.a(G);H=g.iv("span");g.KP(H,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
G.setContent(H,"adInfo");Uw(E,g.N4("iv-click-target",G.element),f,f.url);f=G;break;case "video":E=E.IH;H=f.videoDuration?{Y:"span",Z:"iv-card-video-duration",RH:f.videoDuration}:void 0;t=f.isLiveNow?{Y:"span",EO:["yt-badge","yt-badge-live"],RH:"LIVE NOW"}:null;Y={Y:"div",EO:["iv-card","iv-card-video"],U:[{Y:"a",Z:"iv-click-target",J:{href:((G=f.url)==null?void 0:kz(G))||""},U:[K$(f.TF,H),{Y:"div",Z:"iv-card-content",U:[XPi(f),Gp("h2","iv-card-primary-link",f.title),ViV(f),t]}]}]};G=new g.a(Y);Uw(E,
g.N4("iv-click-target",G.element),f,f.url);f=G;break;default:return null}return f},ZGi=function(E,f,G){E.K=!0;
E.L=g.cP(f,G)},IQO=function(E,f,G){qM.call(this,f,G);
var H=this;this.j=E;this.eventId=null;this.Sr=this.w_=this.fW=this.N=this.isInitialized=!1;this.cards=[];this.V2=this.S=this.Ld=this.L=this.Cd=this.V=null;this.xe=[];this.lF=this.K=this.Vv=this.m$=null;this.B=0;this.T0=new g.jp(function(){},G.X.yB?4E3:3E3);
g.R(this,this.T0);this.Kd=new g.jp(function(){});
g.R(this,this.Kd);this.IH=new yJw(G,function(Y,t,q,C,U,D){S1(H,Y,t,q,C,U,D)});
this.Vi=new g.a({Y:"div",Z:"iv-drawer",J:{id:"iv-drawer"},U:[{Y:"div",Z:"iv-drawer-header",J:{"aria-role":"heading"},U:[{Y:"span",Z:"iv-drawer-header-text"},{Y:"button",EO:["iv-drawer-close-button","ytp-button"],J:{"aria-label":"Hide cards",tabindex:"0"}}]},{Y:"div",Z:"iv-drawer-content"}]});g.R(this,this.Vi);this.D=this.Vi.element;this.oH=new g.Rn(this.Vi,330);g.R(this,this.oH);this.Ix=g.N2("iv-drawer-header-text",this.D);this.G=g.N2("iv-drawer-content",this.D);this.addCueRange(0,G.videoData.lengthSeconds*
1E3,"",function(){H.fW&&I_(H,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(H.fW=H.N)&&fd(H)});
this.ZW=new g.y1(this);g.R(this,this.ZW);this.j.addEventListener("videodatachange",this.sF.bind(this))},Kea=function(E,f,G,H,Y,t,q){this.V=E;
this.N=f;this.X=G;this.videoData=H;this.logger=Y;this.j=t;this.G=q},O84=function(E,f){this.merchant=E;
this.price=f},N5a=function(E){if(E.V)return E.V.bK.type==="productListing";
if(E.j.T("enable_wn_infocards")){var f;return!((f=E.cards)==null||!f.length)&&g.F7(E.cards,function(G){return G.bK.type==="productListing"})}return g.F7(E.cards,function(G){return G.bK.type==="productListing"})},WeO=function(E){E=E.createElement({Y:"div",
EO:["annotation","annotation-type-custom"]});g.eS(E,!1);return E},n$=function(E){if(!E.Vi){var f=new bGa(E);
g.R(E,f);var G=new g.IO(E);g.R(E,G);E.Vi=new Kea(f,G,E.player.W(),E.player.getVideoData(),E.logger,E.player,E.Ub)}return E.Vi},sEi=function(E,f,G){G.stopPropagation();
MWF(E);o1n(E,f);E.V.focus()},PZR=function(E){E.isCollapsed||E.K||E.D||(g.Ux(E.uf(),"iv-promo-collapsed"),E.isCollapsed=!0,E.S.start())},wPO=function(E,f,G,H,Y){if(f.length!=2||G.length!=2)throw Error("Start and end points must be 2D");
PB.call(this,E,f,G,H,Y)},hAW=function(E,f){E.Vi.F_?(f=new o_([0,
E.G.scrollTop],[0,f.Rw.offsetTop],600,QnR),E.context.N.listen(f,"animate",function(G){E.G.scrollTop=G.y}),E.context.N.listen(f,"finish",function(G){E.G.scrollTop=G.y}),f.play()):(E.Vi.Wx(!0),E.G.scrollTop=f.Rw.offsetTop,E.Vi.Wx(!1))},Uw=function(E,f,G,H){if(H){f=g.x(f);
for(var Y=f.next();!Y.done;Y=f.next())E.V(Y.value,H,G.id,G.sessionData,G.Wf.click,5)}},dRn=function(E,f){E.lF=f;
var G=E.j.getVideoData();if(!G)return!1;G=g.vpg(G);if(G==null?0:G.markersMap)for(var H,Y=0;((H=G)==null?void 0:H.markersMap.length)>Y;Y++){var t=void 0,q=(t=G)==null?void 0:t.markersMap[Y];if(q.key==="ERROR_CORRECTION_MARKERS"&&(t=void 0,(q=(t=q.value)==null?void 0:t.markers)&&q.length>0))return H=void 0,f.startMs=((H=g.F(q[0],g.mEy))==null?void 0:H.timeRangeStartMillis)||0,E.lF=null,!0}return!1},zAm=function(E,f){f=!f.isCued()&&!g.J(f,1024);
E.G.Wx(f);E.N.Wx(f)},L64=function(E,f,G){Ew(E,f.clickUrls,G);
(E=g.PH())&&f.TfH&&g.ec(E,f.visualElement)},RAw=function(E){var f=E.player.W();
E=E.player.getVideoData();return(f.annotationsLoadPolicy||E.annotationsLoadPolicy)===1&&!E.Ar||f.w_.get(E.videoId)||g.UR(E)||g.UMy(E)?!0:!1},xRw=function(E,f){for(var G={},H=g.x(f.attributes),Y=H.next();!Y.done;Y=H.next())Y=Y.value,G[Y.name]=Y.nodeValue;
for(H=0;H<f.childNodes.length;H++)if(Y=f.childNodes[H],g.fZ(Y)&&Y.nodeType==1){if(G[Y.tagName])var t=G[Y.tagName];else if(Y.tagName==="data"){Y.childNodes.length>0&&(t=Y.childNodes[0].nodeValue,G[Y.tagName]=typeof t==="string"?t.trim():t);continue}else t=[],G[Y.tagName]=t;Y&&Y.tagName==="TEXT"?Y.childNodes.length===1&&Y.childNodes[0].nodeType===3?t.push(Y.childNodes[0].nodeValue):t.push(""):Y&&t.push(xRw(E,Y))}return G},luO=function(E,f){var G=f.cardId?f.cardId:"cr:"+E.B,H=E.j.W().experiments.z0("enable_error_corrections_infocard_web_client");
if(!f.content&&f.teaser.simpleCardTeaserRenderer&&H){var Y=f.teaser.simpleCardTeaserRenderer,t=f.icon?f.icon.infoCardIconRenderer:null;if(Y.channelAvatar&&Y.channelAvatar.thumbnails&&Y.channelAvatar.thumbnails.length>0)var q=Dj(Y.channelAvatar.thumbnails,22,22).url;f={id:G,timestamp:E.B,type:"simple",teaserText:g.r4(Y.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:{},sponsored:!1,Wf:{},rp:null,OF:Y.trackingParams?
g.bi(Y.trackingParams):null,Vv:t&&t.trackingParams?g.bi(t.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,x3:null,title:"",customMessage:"",url:null,onClickCommand:Y.onTapCommand||null,vA:q};t9(E,f)}else{var C;if((C=f.content)==null?0:C.simpleCardContentRenderer){if(!f.cueRanges.length)return;q=(Y=f.content)==null?void 0:Y.simpleCardContentRenderer;Y=f.teaser.simpleCardTeaserRenderer;t=f.icon?f.icon.infoCardIconRenderer:null;f={id:G,timestamp:E.B,type:"simple",teaserText:g.r4(Y.message),
teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:wm(E,G,f,q),sponsored:!1,Wf:Cd(q,Y,q.command),rp:q.trackingParams?g.bi(q.trackingParams):null,OF:Y.trackingParams?g.bi(Y.trackingParams):null,Vv:t&&t.trackingParams?g.bi(t.trackingParams):null,imageUrl:Dj(q.image.thumbnails,290,290).url,displayDomain:q.displayDomain?g.r4(q.displayDomain):null,showLinkIcon:!!q.showLinkIcon,x3:null,title:q.title?g.r4(q.title):"",
customMessage:q.callToAction?g.r4(q.callToAction):"",url:g.F(q.command,g.wF).url?$z({pause_on_navigation:!E.context.videoData.isLivePlayback,target:"new",value:g.F(q.command,g.wF).url}):null,onClickCommand:null};t9(E,f)}else{var U;if((U=f.content)==null?0:U.collaboratorInfoCardContentRenderer){if(!f.cueRanges.length)return;q=(t=f.content)==null?void 0:t.collaboratorInfoCardContentRenderer;Y=f.teaser.simpleCardTeaserRenderer;t=f.icon?f.icon.infoCardIconRenderer:null;f={id:G,timestamp:E.B,type:"collaborator",
teaserText:g.r4(Y.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:wm(E,G,f,q),sponsored:!1,Wf:Cd(q,Y,q.endpoint),rp:q.trackingParams?g.bi(q.trackingParams):null,OF:Y.trackingParams?g.bi(Y.trackingParams):null,Vv:t&&t.trackingParams?g.bi(t.trackingParams):null,channelId:g.F(q.endpoint,g.dB).browseId,customMessage:q.customText?g.r4(q.customText):null,profileImageUrl:Dj(q.channelAvatar.thumbnails,290,
290).url,title:q.channelName?g.r4(q.channelName):"",metaInfo:[q.subscriberCountText?g.r4(q.subscriberCountText):""],url:$z({pause_on_navigation:!E.context.videoData.isLivePlayback,target:"new",value:g.F(q.endpoint,g.dB).canonicalBaseUrl?g.F(q.endpoint,g.dB).canonicalBaseUrl:"/channel/"+g.F(q.endpoint,g.dB).browseId}),onClickCommand:null};t9(E,f)}else{var D;if((D=f.content)==null?0:D.playlistInfoCardContentRenderer){if(!f.cueRanges.length)return;var M;q=(M=f.content)==null?void 0:M.playlistInfoCardContentRenderer;
Y=f.teaser.simpleCardTeaserRenderer;t=f.icon?f.icon.infoCardIconRenderer:null;f={id:G,timestamp:E.B,type:"playlist",teaserText:g.r4(Y.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:wm(E,G,f,q),sponsored:!1,Wf:Cd(q,Y,q.action),rp:q.trackingParams?g.bi(q.trackingParams):null,OF:Y.trackingParams?g.bi(Y.trackingParams):null,Vv:t&&t.trackingParams?g.bi(t.trackingParams):null,TF:Dj(q.playlistThumbnail.thumbnails,
258,290).url,customMessage:q.customMessage?g.r4(q.customMessage):null,playlistVideoCount:g.r4(q.playlistVideoCount),title:q.playlistTitle?g.r4(q.playlistTitle):"",metaInfo:[q.channelName?g.r4(q.channelName):"",q.videoCountText?g.r4(q.videoCountText):""],url:$z({pause_on_navigation:!E.context.videoData.isLivePlayback,target:"new",value:H8z(q.action)}),onClickCommand:null};t9(E,f)}else{var V;if((V=f.content)==null?0:V.videoInfoCardContentRenderer){if(!f.cueRanges.length)return;var A;q=(A=f.content)==
null?void 0:A.videoInfoCardContentRenderer;Y=f.teaser.simpleCardTeaserRenderer;t=f.icon?f.icon.infoCardIconRenderer:null;f={id:G,timestamp:E.B,type:"video",teaserText:g.r4(Y.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:wm(E,G,f,q),sponsored:!1,Wf:Cd(q,Y,q.action),rp:q.trackingParams?g.bi(q.trackingParams):null,OF:Y.trackingParams?g.bi(Y.trackingParams):null,Vv:t&&t.trackingParams?g.bi(t.trackingParams):
null,TF:Dj(q.videoThumbnail.thumbnails,258,290).url,videoDuration:q.lengthString?g.r4(q.lengthString):null,customMessage:q.customMessage?g.r4(q.customMessage):null,title:q.videoTitle?g.r4(q.videoTitle):"",metaInfo:[q.channelName?g.r4(q.channelName):"",q.viewCountText?g.r4(q.viewCountText):""],isLiveNow:!!q.badge,url:$z({pause_on_navigation:!E.context.videoData.isLivePlayback,target:"new",value:H8z(q.action)}),onClickCommand:null};t9(E,f)}}}}}E.B++},Fl=function(E,f,G,H){var Y=1,t=void 0,q=-1;
if(G){var C=!1;t=function(){Y--;Y||C||(clearTimeout(q),C=!0,G())};
q=setTimeout(function(){C=!0;G()},1E3)}f=g.x(f||[]);
for(var U=f.next();!U.done;U=f.next())U=U.value,Y++,g.k1(U,t);H&&(Y++,H!==0&&E.j.sendVideoStatsEngageEvent(H,t))},XPi=function(E){return E.customMessage?Gp("div","iv-card-message",E.customMessage):""},Dj=function(E,f,G){for(var H=-1,Y=-1,t=0;t<E.length;t++){if(E[t].height===f||E[t].width===G)return E[t];
((E[t].height||0)<f||(E[t].width||0)<G)&&(H<0||(E[H].height||0)<(E[t].height||0)||(E[H].width||0)<(E[t].width||0))?H=t:((E[t].height||0)>=f||(E[t].width||0)>=G)&&(Y<0||(E[Y].height||0)>(E[t].height||0)||(E[Y].width||0)>(E[t].width||0))&&(Y=t)}return E[Y>=0?Y:H]},aux=function(E){return E.player.getVideoData().yA?"current":E.Vi?"new":"current"},uf4=function(E,f){f=f.data;
f.autoOpenMs&&E.addCueRange(f.autoOpenMs,0x8000000000000,"",function(){I_(E,"YOUTUBE_DRAWER_AUTO_OPEN")});
f.autoCloseMs&&E.addCueRange(f.autoCloseMs,0x8000000000000,"",function(){fd(E)});
var G=f.headerText;g.KP(E.Ix,G);E.S&&(E.j.T("player_tooltip_data_title_killswitch")?E.S.setAttribute("title",G):E.S.setAttribute("data-tooltip-title",G));f.eventId&&(E.eventId=f.eventId);E.m$=g.bi(f.trackingParams);E.K=g.bi(f.closeTrackingParams);E.Vv=g.bi(f.iconTrackingParams)},msi=function(E){this.j=E},K6R=function(E,f,G){g.pt(f.element,"ytp-ce-element-hover");
g.pt(f.element,"ytp-ce-force-expand");BB(E,G.id,!1)},BB=function(E,f,G){E.N&&(G?E.S.show():E.S.hide());
for(var H=g.x(Object.keys(E.G)),Y=H.next();!Y.done;Y=H.next())Y=Y.value,Y!==f&&g.zh(E.G[Y].element,"ytp-ce-element-shadow-show",G)},Yk=function(E,f,G){cB.call(this,E,f,G);
this.V=null;this.N=!1;this.G=null},c0V=function(E,f,G){function H(qC){var Hf=qC.hovercardButton;
if(!Hf)return null;Hf=Hf.subscribeButtonRenderer;if(!Hf)return null;var Uy=t(Hf.unsubscribedButtonText),Gj=t(Hf.subscribedButtonText);if(Hf.subscribed){var py=t(Hf.subscriberCountWithUnsubscribeText);var JL=t(Hf.subscriberCountText)}else py=t(Hf.subscriberCountText),JL=t(Hf.subscriberCountWithSubscribeText);var wz=null;if(qC.signinEndpoint){wz=a_(qC,"signinEndpoint","webNavigationEndpointData","url");if(!wz){var ti,Tj;wz=(Tj=g.F((ti=Hf.signInEndpoint)==null?void 0:ti.commandMetadata,g.xT))==null?
void 0:Tj.url}if(!wz)return null}return Uy&&(Gj||wz)?{subscribed:Hf.subscribed,subscribeText:Uy,subscribeCount:py,unsubscribeText:Gj,unsubscribeCount:JL,enabled:Hf.enabled,signinUrl:wz,classic:qC.useClassicSubscribeButton}:null}
function Y(qC){if(qC){var Hf=[],Uy=qC.videoId;Uy&&Hf.push("v="+Uy);(Uy=qC.playlistId)&&Hf.push("list="+Uy);(qC=qC.startTimeSeconds)&&Hf.push("t="+qC);return"/watch?"+Hf.join("&")}}
function t(qC){if(!qC)return null;var Hf=qC.simpleText;return Hf?Hf:qC.runs?g.j_(qC.runs,function(Uy){return Uy.text}).join(""):null}
f=f.endscreenElementRenderer;if(!f)return null;var q=f.style,C=f.endpoint||{},U=null,D=null,M=!1,V=null,A=null,Z=null,y=null,b=!1,O=null,K=null,Q=null,h=null,d=null,c=null;if(q==="VIDEO")g.F(C,g.wF)?U=g.F(C,g.wF).url:(c=g.F(C,g.ZR),U=Y(c)),D=!1,V=E,f.thumbnailOverlays?(M=f.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,A=t(M.text),M=M.style==="LIVE"):A=t(f.videoDuration);else if(q==="PLAYLIST")g.F(C,g.wF)?U=g.F(C,g.wF).url:(c=g.F(C,g.ZR),U=Y(c)),D=!1,V=E,Z=t(f.playlistLength);else if(q===
"CHANNEL"){if(b=a_(C,"browseEndpoint","browseId"))y=b,U="/channel/"+y;D=!1;V="new";(b=!!f.isSubscribe)?O=H(f):K=t(f.subscribersText)}else q==="WEBSITE"?((Q=a_(C,"urlEndpoint","url"))&&(U=Q),D=!0,V="new",Q=f.icon.thumbnails[0].url):q==="CREATOR_MERCHANDISE"&&(f.productPrice&&(h=t(f.productPrice)),f.additionalFeesText&&(d=t(f.additionalFeesText)),(D=a_(C,"urlEndpoint","url"))&&(U=D),D=!0,V="new");E=a_(f,"title","accessibility","accessibilityData","label");var I=f.endpoint?f.endpoint.clickTrackingParams:
null,k="";if(f.metadata){var e=t(f.metadata);e&&(k=e)}return{id:"element-"+G,type:q,title:t(f.title),metadata:k,callToAction:t(f.callToAction),al:f.image,iconUrl:Q,left:Number(f.left),width:Number(f.width),top:Number(f.top),aspectRatio:Number(f.aspectRatio),startMs:Math.floor(Number(f.startMs)),endMs:Math.floor(Number(f.endMs)),videoDuration:A,QX:M,playlistLength:Z,channelId:y,subscribeButton:O,subscribersText:K,isSubscribe:b,targetUrl:U||null,TfH:D,sessionData:I?{itct:I}:null,BRk:V,ek:E?E:null,isPlaceholder:f.isPlaceholder,
impressionUrls:MM(f.impressionUrls||[],zT),lid:MM(f.hovercardShowUrls||[],zT),clickUrls:MM(C.loggingUrls||[],zT),visualElement:g.bi(f.trackingParams),productPrice:h,additionalFeesText:d,watchEndpoint:c||null}},kFF=function(E,f){return f?f:cJi(E)?"current":"new"},t9=function(E,f){if(!A0n(E,f)||dRn(E,f)){var G=Lex(E,f);
if(G){var H={bK:f,Rw:G.element,Uz:!1};if(f.onClickCommand)E.j.T("web_infocards_teaser_show_logging_fix")&&(E.Sr||iGn(E),YQn(E,f.id),G=E.findLastIndex(H),g.Sn(E.cards,G,0,H));else{E.isInitialized||QEF(E);YQn(E,f.id);var Y=E.findLastIndex(H);g.Sn(E.cards,Y,0,H);G.jn(E.G,Y);E.IB()}f.autoOpen?E.addCueRange(f.startMs,0x8000000000000,f.id,function(){E.N||(E.V=H,vB(E),hAW(E,H),I_(E,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(G=E.context.j.getCurrentTime()*1E3,G<5E3&&G>f.startMs&&Few(E,H),E.addCueRange(f.startMs,
f.startMs+1,f.id,function(){Few(E,H)}),vB(E))}}},$Ri=function(E){var f=E.player.getVideoData(),G=f.videoId;
E.D&&E.D.abort();G={method:"POST",onFinish:function(Y){var t=E.D=null;Y.status===200&&(Y=Y.responseText,Y.substring(0,3)===")]}"&&(Y=Y.substring(3),t=JSON.parse(Y),t=B5w(t,aux(E))));Jt(E,t)},
urlParams:{v:G},withCredentials:!0};E.Vi&&(G.urlParams.ptype="embedded");var H=f.Qm;H&&(G.postParams={ad_tracking:H});if(f=g.EcC(f))if(f=g.UA(f),f=g.LM(f))E.D=g.cP(f,G)},MM=function(E,f){return g.qw(g.j_(E,f),function(G){return!!G})},Few=function(E,f){if(!g.BP(E.j.getRootNode(),"ytp-cards-teaser-shown")){if(E.V!==f){var G=g.PH(),H=E.V?E.V.bK.Vv:E.Vv;
G&&H&&g.bq(G,[H]);E.V=f;vB(E)}(G=E.isInitialized&&E.uf().style.display=="none")||(G=E.context.j.getPlayerState(),H=G===0&&E.context.j.getCurrentTime()===0,G=!(G===1||G===3||H));if(!G&&f.bK.teaserDurationMs){var Y;G={teaserText:f.bK.teaserText,durationMs:f.bK.teaserDurationMs,onClickCommand:f.bK.onClickCommand,vA:(Y=f.bK.vA)!=null?Y:null};E.j.Ig(!0,G)}E.Kd.isActive()||((!E.N||!E.T0.isActive()&&E.w_)&&hAW(E,f),E.Kd.start(910+f.bK.teaserDurationMs))}},e1=function(E){return E.player.W().playerStyle===
"creator-endscreen-editor"},Z8O=function(E){return E?{style:"background-image: url("+E+")"}:{}},e5a=function(E){E.D&&(E.player.removeEventListener("videodatachange",E.D),E.D=null)},qQn=function(E){var f=g.nc(E);
E=g.YO(E);return new g.GM(f.x,f.y,E.width,E.height)},o1n=function(E,f){E.D||(E.D=g.Z8(function(){z5m(this);
PZR(this)},f,E))},n1i=function(E){return E==="annotation-editor"||E==="live-dashboard"},B5w=function(E,f){var G={startMs:Math.floor(Number(E.startMs)),
impressionUrls:MM(E.impressionUrls||[],zT),elements:MM(E.elements||[],function(H,Y){return c0V(f,H,Y)})};
E.trackingParams&&(G.visualElement=g.bi(E.trackingParams));return G},Gp=function(E,f,G){f?typeof f==="string"?f={"class":f}:Array.isArray(f)&&(f={"class":f.join(" ")}):f={};
f.dir=g.Nl(G);return{Y:E,J:f,RH:G}},vB=function(E){g.zh(E.j.getRootNode(),"ytp-cards-shopping-active",N5a(E))},AJi=function(E,f){E.method="POST";
E.postParams=E.postParams||{};f.aB&&(E.postParams.ic_coll=f.aB);f.NQ&&(E.postParams.ic_xml=f.NQ);f.mV&&(E.postParams.ic_track=f.mV)},cB=function(E,f,G){qM.call(this,E,f);
this.annotation=G;this.isActive=!1},jEZ=function(E,f){var G=!1;
E.V||(E.V=vdV(E),g.R(E,E.V));for(var H=g.x(f.cards||[]),Y=H.next();!Y.done;Y=H.next())Y=Y.value,Y.cardRenderer&&(luO(E.V,Y.cardRenderer),G=!0);if(G){var t;(t=E.player.getVideoData())!=null&&g.nU(t)||(G=E.V,H=f.headerText?g.r4(f.headerText):"",g.KP(G.Ix,H),G.S&&(G.j.T("player_tooltip_data_title_killswitch")?G.S.setAttribute("title",H):G.S.setAttribute("data-tooltip-title",H)),G.context.videoData.eventId&&(G.eventId=G.context.videoData.eventId),G.m$=f.trackingParams?g.bi(f.trackingParams):null,G.K=
f.closeButton.infoCardIconRenderer.trackingParams?g.bi(f.closeButton.infoCardIconRenderer.trackingParams):null,G.Vv=f.icon.infoCardIconRenderer.trackingParams?g.bi(f.icon.infoCardIconRenderer.trackingParams):null,E.mO());TT(E.player)}};
g.qA.prototype.Ig=g.RC(39,function(E,f){var G=g.mg(this.Tj());G&&G.Ig(E,f)});
var ms={},ht=null;g.sW(o_,g.NH);g.p=o_.prototype;g.p.getDuration=function(){return this.duration};
g.p.play=function(E){if(E||this.V==0)this.progress=0,this.coords=this.G;else if(this.isPlaying())return!1;R_(this);this.startTime=E=g.aK();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.D=this.startTime;this.progress||this.nB();this.EV("play");this.isPaused()&&this.EV("resume");this.V=1;var f=g.CP(this);f in ms||(ms[f]=this);sna();h5n(this,E);return!0};
g.p.stop=function(E){R_(this);this.V=0;E&&(this.progress=1);PEZ(this,this.progress);this.onStop();this.c_()};
g.p.pause=function(){this.isPlaying()&&(R_(this),this.V=-1,this.EV("pause"))};
g.p.Nk=function(){this.V==0||this.stop(!1);this.EV("destroy");o_.RX.Nk.call(this)};
g.p.destroy=function(){this.dispose()};
g.p.qp=function(){this.EV("animate")};
g.p.EV=function(E){this.dispatchEvent(new g1O(E,this))};
g.sW(g1O,g.Vu);g.sW(PB,o_);PB.prototype.N=function(){};
PB.prototype.qp=function(){this.N();PB.RX.qp.call(this)};
PB.prototype.c_=function(){this.N();PB.RX.c_.call(this)};
PB.prototype.nB=function(){this.N();PB.RX.nB.call(this)};
g.sW(wPO,PB);wPO.prototype.N=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.v(bGa,g.P);g.p=bGa.prototype;g.p.listen=function(E,f,G,H){G=(0,g.uC)(G,H||this.G);E=g.Y8(E,f,G);this.V.push(E);return E};
g.p.im=function(E,f,G,H){G=(0,g.uC)(G,H||this.G);E=XLw(E,f,G);this.V.push(E);return E};
g.p.AP=function(E){g.mE(E);g.dE(this.V,E)};
g.p.removeAll=function(){g.mE(this.V);this.V.length=0};
g.p.Nk=function(){this.removeAll();g.P.prototype.Nk.call(this)};g.v(dsn,g.JE);g.p=dsn.prototype;g.p.load=function(){g.JE.prototype.load.call(this);if(!e1(this)){var E=g.pew(this.player.getVideoData());E?(E=B5w(E,aux(this)),Jt(this,E,!1)):$Ri(this)}};
g.p.unload=function(){Jt(this,null);this.D&&(this.D.abort(),this.D=null);g.JE.prototype.unload.call(this)};
g.p.Lq=function(E,f){return e1(this)?E==="loadCustomEndscreenRenderer"?(E=B5w(f,"new"),Jt(this,E),!0):null:null};
g.p.getOptions=function(){return e1(this)?["loadCustomEndscreenRenderer"]:[]};
g.p.Mr=function(){if(this.endscreen&&this.endscreen.elements){var E=this.player.getVideoContentRect();if(E&&E.width!==0&&E.height!==0){var f=this.player.getPlayerSize();if(f&&f.width!==0&&f.height!==0){var G=E.width/E.height;var H=0;for(var Y=-1,t=0;t<J0a.length;t++){var q=Math.abs(f.width-J0a[t]);if(Y===-1||H>=q)Y=t,H=q}H=T5n[Y];this.N&&g.RR(this.N.element,"outline-width",Math.max(f.width,f.height)+"px");for(f=0;f<this.endscreen.elements.length;++f)if(t=this.endscreen.elements[f].id,Y=this.G[t],
q=this.L[t],Y&&q){var C=q.width*G/q.aspectRatio,U=Math.round(q.width*E.width);t=Math.round(C*E.height);var D=E.left+Math.round(q.left*E.width),M=E.top+Math.round(q.top*E.height);g.TV(Y.element,U,t);g.YB(Y.element,D,M);g.jg(Y.element,Iua);U>256||t>256?g.Ux(Y.element,"ytp-ce-large-round"):U>96||t>96?g.Ux(Y.element,"ytp-ce-medium-round"):g.Ux(Y.element,"ytp-ce-small-round");g.jg(Y.element,v1w);U=q.left+q.width/2;q=q.top+C/2;g.Ux(Y.element,U<=.5&&q<=.5?"ytp-ce-top-left-quad":U>.5&&q<=.5?"ytp-ce-top-right-quad":
U<=.5&&q>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.jg(Y.element,T5n);g.Ux(Y.element,H);(Y=g.K7(document,"div","ytp-ce-expanding-overlay-body",Y.element)[0])&&g.RR(Y,"height",t+"px")}}}}};
g.p.onCueRangeEnter=function(E){if(this.endscreen)if(E.getId()==="ytp-ce-in-endscreen")Ew(this,this.endscreen.impressionUrls),(E=g.PH())&&this.endscreen.visualElement&&g.eJ(E,this.endscreen.visualElement),this.V&&(g.Ux(this.V,"ytp-ce-element-show"),this.V.removeAttribute("aria-hidden"),this.player.d9()?g.Ux(this.V,"ytp-ce-hide-button-lower"):g.pt(this.V,"ytp-ce-hide-button-lower"));else{E=E.getId().substring(15);var f=this.G[E],G=this.L[E];g.Ux(f.element,"ytp-ce-element-show");f.element.removeAttribute("aria-hidden");
f=this.player.getRootNode();g.Ux(f,"ytp-ce-shown");Ew(this,G.impressionUrls);(f=g.PH())&&g.eJ(f,G.visualElement);this.player.W().K&&this.player.Hd("endscreenelementshown",E)}};
g.p.onCueRangeExit=function(E){if(E.getId()==="ytp-ce-in-endscreen")this.V&&(g.pt(this.V,"ytp-ce-element-show"),this.V.setAttribute("aria-hidden","true"));else{E=E.getId().substring(15);var f=this.G[E];g.pt(f.element,"ytp-ce-element-show");f.element.setAttribute("aria-hidden","true");f=this.player.getRootNode();g.pt(f,"ytp-ce-shown");this.player.W().K&&this.player.Hd("endscreenelementhidden",E)}};
g.p.Z4F=function(E){var f=this;E.target===window&&(new g.jp(function(){for(var G=g.x(Object.values(f.G)),H=G.next();!H.done;H=G.next())g.jg(H.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.p.Wx=function(E){for(var f=g.x(Object.values(this.G)),G=f.next();!G.done;G=f.next())G=G.value,E?G.element.setAttribute("hidden",""):G.element.removeAttribute("hidden")};
g.p.om8=function(E){this.V&&this.player.getRootNode().removeChild(this.V);E&&(g.Ux(E,"ytp-ce-hide-button-container"),this.V=E,g.xU(this.player,this.V,4))};
var J0a=[346,426,470,506,570,640,853,1280,1920],T5n="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),v1w=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],Iua=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var i8x={S3W:"current",Uy0:"new"};var nd4={CLOSE:"close",yDd:"openUrl",SUBSCRIBE:"subscribe"},JJO={U3d:"click",CLOSE:"close",aL$:"hidden",grH:"rollOut",Imk:"rollOver",wr$:"shown"};rJV.prototype.Ac=function(){var E=k6F(this,function(f){return f.type==="openUrl"&&f.url!=null});
return E?E.url:null};
var b8V={VU$:"anchored",YC:"branding",CHANNEL:"channel",mI0:"cta",TyO:"highlightText",gvO:"label",PLAYLIST:"playlist",POPUP:"popup",qC_:"speech",SUBSCRIBE:"subscribe",t_S:"title",VIDEO:"video",L10:"website"},r0m={YC:"branding",d3i:"card",ZU_:"drawer",cgS:"highlight",Z5H:"marker",LAd:"promotion",TEXT:"text",xam:"widget"};var E1n=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
fum=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];g.v(qM,g.P);g.p=qM.prototype;g.p.addCueRange=function(E,f,G,H,Y){E=new g.GJ(E,f,{id:G,namespace:"annotations_module"});H&&this.ke.set(E,H);Y&&this.bF.set(E,Y);this.context.j.MR([E],1)};
g.p.XL=function(){this.context.G.subscribe("resize",this.IB,this)};
g.p.uf=function(){return this.element};
g.p.CI=function(E,f,G,H,Y,t){if(this.Mk)return!1;t&&(t.stopPropagation(),t.preventDefault());this.navigate(E,G,H,Y);return!1};
g.p.show=function(){};
g.p.hide=function(){};
g.p.destroy=function(){g.wA(this.uf())};
g.p.IB=function(){};
g.p.navigate=function(E,f,G,H){var Y=this,t=kz(E);if(t){var q=kFF(t,E.target),C=function(){E.V&&Y.context.j.pauseVideo();var U=Y.context.videoData.yA||!1,D=g.mr(t||"");U&&D&&(D.v||D.list)?Y.context.j.iS(D.v,f,D.list,!1):g.Yp(t||"",q==="current"?"_top":void 0,f)};
q==="new"&&(C(),C=null);Fl(this.context.logger,G,C,H);cJi(t)||(G=g.PH(),H=f.itct,G&&H&&g.ec(G,g.bi(H)))}};
g.p.Nk=function(){this.ke.clear();this.bF.clear();g.P.prototype.Nk.call(this)};
g.p.createElement=function(E){E=new g.a(E);g.R(this,E);return E.element};g.v(IQO,qM);g.p=IQO.prototype;g.p.sF=function(){this.lF&&t9(this,this.lF)};
g.p.isAvailable=function(){var E;if(E=!!this.cards.length)(E=this.j.getRootNode())?(E=g.YO(E),E=173<E.width&&173<E.height):E=!1;return E};
g.p.IB=function(){var E=this.isAvailable();g.eS(this.uf(),E);g.zh(this.context.j.getRootNode(),g.VK.IV_DRAWER_ENABLED,E);TT(this.j)};
g.p.destroy=function(){this.j.Ig(!1);try{this.j.getRootNode().removeChild(this.D)}catch(E){}g.v8(this.xe);g.ba(this.ZW);this.Cd&&this.Cd.dispose();this.L&&this.L.dispose();qM.prototype.destroy.call(this)};
g.p.po=function(){var E=this;this.context.V.listen(g.N2("iv-drawer-close-button",this.D),"click",this.Zc,this);this.context.V.listen(this.G,"touchend",function(){E.T0.start()});
this.context.V.listen(this.G,"scroll",this.y6,this);this.context.G.subscribe("onHideControls",function(){E.w_=!0});
this.context.G.subscribe("onShowControls",function(){E.w_=!1});
this.context.G.subscribe("onVideoAreaChange",function(){E.w_=g.BP(E.j.getRootNode(),"ytp-autohide")});
this.xe.push(g.w0("iv-button-shown",this.Kxn,this));this.xe.push(g.w0("iv-button-hidden",this.egW,this));iGn(this)};
g.p.findLastIndex=function(E){if(this.cards.length===0)return 0;var f=g.k6(this.cards,function(G){return E.bK.startMs>G.bK.startMs||E.bK.startMs===G.bK.startMs&&E.bK.timestamp>=G.bK.timestamp?!0:!1});
return f===-1?0:f+1};
g.p.Zc=function(){if(this.N){Fl(this.context.logger,NT(this).Wf.close);var E=g.PH();E&&this.K&&g.ec(E,this.K);fd(this)}};
g.p.y6=function(){g.zh(this.D,"iv-drawer-scrolled",this.G.scrollTop>0)};
g.p.Kxn=function(){var E=g.PH(),f=NT(this);f=f?f.Vv:this.Vv;E&&f&&g.ze(E,[f])};
g.p.egW=function(){var E=g.PH(),f=NT(this);f=f?f.Vv:this.Vv;E&&f&&g.bq(E,[f])};
g.p.Nc=function(){var E=NT(this);Fl(this.context.logger,E.Wf.XN);var f=g.PH();if(f&&E)if(this.j.T("web_infocards_teaser_show_logging_fix")){var G=[];E.OF&&G.push(E.OF);E.Vv&&G.push(E.Vv);G.length>0&&g.ze(f,G)}else g.ze(f,[E.OF,E.Vv])};
g.p.zge=function(){var E=g.PH(),f=NT(this);E&&f&&g.bq(E,[f.OF])};
g.p.Re=function(E){var f=NT(this),G=g.PH();this.V?E?(E=this.context.logger,Fl(E,f.Wf.HJ),E.j.sendVideoStatsEngageEvent(4,void 0),G&&f.OF&&g.ec(G,f.OF)):(E=this.context.logger,Fl(E,f.Wf.HJ),E.j.sendVideoStatsEngageEvent(4,void 0),G&&f.Vv&&g.ec(G,f.Vv)):(E=this.context.logger,Fl(E,f.Wf.HJ),E.j.sendVideoStatsEngageEvent(4,void 0),G&&this.Vv&&g.ec(G,this.Vv))};g.v(cB,qM);cB.prototype.XL=function(){qM.prototype.XL.call(this);odi(this)};
cB.prototype.show=function(){qM.prototype.show.call(this);var E=g.PH(),f=this.annotation.data;E&&f&&(f=f.session_data)&&g.ze(E,[g.bi(f.itct)])};
cB.prototype.hide=function(){qM.prototype.hide.call(this);var E=g.PH(),f=this.annotation.data;E&&f&&(f=f.session_data)&&g.bq(E,[g.bi(f.itct)])};g.v(Yk,cB);
Yk.prototype.show=function(){if(!this.isActive){cB.prototype.show.call(this);if(!this.N){g.Ux(this.uf(),"iv-branding");var E=this.annotation.data;this.V=this.createElement({Y:"img",EO:["branding-img","iv-click-target"],J:{"aria-label":"Channel watermark",src:E.image_url,width:E.image_width,height:E.image_height}});g.eS(this.V,!1);var f=this.createElement({Y:"button",EO:["branding-img-container","ytp-button"]});f.appendChild(this.V);this.uf().appendChild(f);var G=this.annotation.Ac();G&&S1(this,f,
G,this.annotation.id,E.session_data);this.N=!0}g.eS(this.uf(),!0);this.isActive=!0;if(this.V){try{URi(this,this.V)}catch(H){}g.Ux(this.context.j.getRootNode(),"ytp-branding-shown");this.context.j.getRootNode().style.setProperty("--branding-image-width",this.V.getAttribute("width")+"px")}}};
Yk.prototype.hide=function(){this.isActive&&(cB.prototype.hide.call(this),g.eS(this.uf(),!1),this.isActive=!1,g.pt(this.context.j.getRootNode(),"ytp-branding-shown"))};
Yk.prototype.destroy=function(){this.G&&(this.G.dispose(),this.G=null);g.pt(this.context.j.getRootNode(),"ytp-branding-shown");cB.prototype.destroy.call(this)};g.v(R5n,cB);g.p=R5n.prototype;g.p.show=function(){this.isActive||(cB.prototype.show.call(this),this.Vi||(y0R(this),this.Vi=!0),g.eS(this.uf(),!0),g.Z8(function(){g.pt(this.uf(),"iv-promo-inactive")},100,this),this.uf().removeAttribute("aria-hidden"),this.isActive=!0,z5m(this),MWF(this),o1n(this,this.L))};
g.p.hide=function(){this.isActive&&(g.Ux(this.uf(),"iv-promo-inactive"),this.isActive=!1,this.uf().setAttribute("aria-hidden","true"))};
g.p.CI=function(E,f,G,H,Y,t){return this.isCollapsed?!1:cB.prototype.CI.call(this,E,f,G,H,Y,t)};
g.p.bdi=function(E){this.K=!0;sEi(this,500,E)};
g.p.rm8=function(){this.K=!1;PZR(this)};
g.p.Amd=function(E){E.stopPropagation();this.hide()};
g.p.qOk=function(E){E.stopPropagation();z5m(this);this.isCollapsed=!0;g.Ux(this.uf(),"iv-promo-collapsed-no-delay");this.S.start()};
g.p.destroy=function(){this.S.dispose();cB.prototype.destroy.call(this)};g.v(GFa,g.JE);g.p=GFa.prototype;g.p.Lq=function(E,f){if(!n1i(this.player.W().playerStyle))return null;switch(E){case "loadCustomAnnotationsXml":return(E=g.kF(f))&&jnz(this,E),!0;case "removeCustomAnnotationById":return f&&this.V&&(YQn(this.V,f),TT(this.player)),!0}return null};
g.p.getOptions=function(){return n1i(this.player.W().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.p.KU=function(){var E=this.player.getVideoData(),f,G,H=(f=E.getWatchNextResponse())==null?void 0:(G=f.playerOverlays)==null?void 0:G.playerOverlayRenderer;if(E.yA||this.player.isMutedByEmbedsMutedAutoplay())return!1;if(!this.player.T("web_fix_annotations"))return RAw(this);if(RAw(this)){if((H==null?void 0:H.isWatermarkEnforced)===!0)return!0;var Y;return(Y=H==null?void 0:H.isAnnotationsEnabled)!=null?Y:!1}return!1};
g.p.mO=function(){if(this.N){var E=this.player.sO().getVideoContentRect(!0);g.TV(this.N.element,E.width,E.height);g.YB(this.N.element,E.left,E.top)}if(this.V){var f=this.player.ZU();E=this.V;f=f.width;g.zh(E.D,"iv-drawer-small",f<=426);g.zh(E.D,"iv-drawer-big",f>=1280)}};
g.p.gO=function(E){zAm(this,E.state);g.J(E.state,2)&&(this.d9()&&this.Pl()&&this.player.getPresentingPlayerType()!==2&&this.F7(!1),this.Ig(!1))};
g.p.load=function(){g.JE.prototype.load.call(this);zAm(this,this.player.getPlayerStateObject());this.loadNumber++;var E=this.player.getVideoData();xsR(this,E);g.xU(this.player,this.N.element,4);this.mO();var f=g.UR(E);f&&jEZ(this,f);if((f=g.UMy(E))&&f.featuredChannel){var G=f.featuredChannel;f=f.annotationId||"branding";var H=E.videoId||null,Y=E.eventId||null;if(!this.player.W().bq){var t=[];G.navigationEndpoint&&g.F(G.navigationEndpoint,g.dB)&&g.F(G.navigationEndpoint,g.dB).browseId&&t.push(new lQR("openUrl",
"click",new tiw("/channel/"+g.F(G.navigationEndpoint,g.dB).browseId,"new",!0,!0)));var q=G.watermark.thumbnails[0];H={channel_name:G.channelName,end_ms:G.endTimeMs,image_height:q.height,image_type:1,image_url:q.url,image_width:q.width,is_mobile:!1,session_data:{annotation_id:f,ei:Y,feature:"iv",itct:G.trackingParams,src_vid:H},start_ms:G.startTimeMs};if(G.subscribeButton&&g.F(G.subscribeButton,g.s3)){H.channel_id=g.F(G.subscribeButton,g.s3).channelId;var C;G=g.F(G.subscribeButton,g.s3);q=Y=null;G.subscribed?
(G.subscriberCountWithUnsubscribeText&&(Y=g.r4(G.subscriberCountWithUnsubscribeText)),G.subscriberCountText&&(q=g.r4(G.subscriberCountText))):(G.subscriberCountText&&(Y=g.r4(G.subscriberCountText)),G.subscriberCountWithSubscribeText&&(q=g.r4(G.subscriberCountWithSubscribeText)));var U,D=((U=g.F((C=G.signInEndpoint)==null?void 0:C.commandMetadata,g.xT))==null?void 0:U.url)||"";C={subscribeText:g.r4(G.unsubscribedButtonText),subscribeCount:Y||"",unsubscribeText:g.r4(G.subscribedButtonText),unsubscribeCount:q||
"",enabled:G.enabled||!1,classic:!1,subscribed:G.subscribed||!1,feature:"iv",signInUrl:D};H.standalone_subscribe_button_data=C}C=new rJV(f,"branding","branding",t,H);U=WeO(this);this.player.T("web_player_overlay_positioned_layout")?(U.setAttribute("data-overlay-order","11"),this.player.Kq(U,4,!0)):this.G.element.appendChild(U);C=new Yk(U,n$(this),C);C.XL();g.R(C,C);this.B[f]=C}}this.ip=g.N2("ytp-cards-button",this.player.getRootNode());g.nU(E)&&pLn(this,E)};
g.p.onVideoDataChange=function(E){var f=this.player.getVideoData();f.IJ&&ZGi(this,f.IJ,E)};
g.p.unload=function(){this.player.LH("annotations_module");for(var E=g.x(Object.keys(this.B)),f=E.next();!f.done;f=E.next())this.B[f.value].destroy();this.Vi=null;this.V&&(this.V.destroy(),this.V=null,TT(this.player));this.K=!1;this.L&&(this.L.abort(),this.L=null);this.xe=!1;this.B={};this.G.hide();g.JE.prototype.unload.call(this);this.N.detach();e5a(this)};
g.p.FP=function(E){E===this.player.getVideoData().videoId&&(this.loaded?W6Z(this):this.load())};
g.p.d9=function(){var E;return((E=this.V)==null?void 0:E.isAvailable())||this.xe};
g.p.Pl=function(){return!!this.V&&this.V.N};
g.p.F7=function(E,f,G){f=f===void 0?!1:f;this.d9();this.V&&(E?G?I_(this.V,G,f):I_(this.V,"YOUTUBE_DRAWER_AUTO_OPEN",f):fd(this.V))};
g.p.Ig=function(E,f){this.player.publish(E?"cardsteasershow":"cardsteaserhide",f)};
g.p.Nk=function(){this.player.W().w_.unsubscribe("vast_info_card_add",this.FP,this);g.pt(this.player.getRootNode(),g.VK.IV_DRAWER_OPEN);for(var E=this.lF,f=g.vL,G=0,H=E.length;G<H;G++)f.Q3(E[G]);this.lF.length=0;g.JE.prototype.Nk.call(this)};
g.p.createElement=function(E){E=new g.a(E);g.R(this,E);return E.element};g.s7("annotations_module",GFa);g.s7("creatorendscreen",dsn);})(_yt_player);
